/******************************************************************
                             KEY.H  file

主要功能：按键模块中全局变量及函数申明

创建时间：2015.10.31
*******************************************************************/

#ifndef __CONTROL_H__
#define __CONTROL_H__

#include <STC89C5xRC.h>
sbit led0=P2^2;	
sbit led1=P2^3;											//
sbit led2=P2^4;
/*--------------------------------------------------------------*/
/*-------------------------全局变量定义-------------------------*/
/*--------------------------------------------------------------*/
extern bit  Key_Cheak;                                      //标志计数器2的用途，按键检测
extern unsigned int Key_Counter;                            //开关按下的时间计数器
extern bit  Long_Cheak;                                     //用于长按时检测合适停止控制
extern bit  Key_Shake;
extern unsigned char Key_Value;                             //用于判断哪个开关按下及按键动作，低三位为按键编码值，高三位为按键
                                                            //状态，8位为1，短按，7位为1，长按，6位为1，长按松开
extern unsigned int Delay_Count;
extern bit  Key_Flag;                                       //按键事件标志


extern bit Time_Up1,Time_Up2,Time_Up3,Time_Up4;										//延时时间到标志位
/*--------------------------------------------------------------*/

/*--------------------------------------------------------------*/
/*---------------------------接口定义---------------------------*/
/*--------------------------------------------------------------*/
sbit A0=P3^6;                                        //8路开关的状态值采用8-3编码后输入
sbit A1=P3^5;                                        //8路开关的编码输入
sbit A2=P3^4;
/*--------------------------------------------------------------*/

/*--------------------------------------------------------------*/
/*---------------------------函数声明---------------------------*/
/*--------------------------------------------------------------*/
void init_key();
/*--------------------------------------------------------------*/
#endif